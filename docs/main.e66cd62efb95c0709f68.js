(()=>{"use strict";var e=function(e){var n=document.forms["feedback-form"],r=n.querySelectorAll(".form-input"),t=n.querySelectorAll("label"),o=n.querySelectorAll(".form-error"),s=n.querySelector('button[type="submit"]'),i=s.innerHTML;return n.addEventListener("submit",(function(n){n.preventDefault();var s=[];if(r.forEach((function(e,n){return s.push(function(e,n){return""===e.value?(e.classList.add("error"),t[n].classList.add("error"),o[n].innerHTML="Required field",!1):"email"!==e.name||e.value.match(/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/)?"name"===e.name&&2!==e.value.trim().split(" ").length?(e.classList.add("error"),t[n].classList.add("error"),o[n].innerHTML="Invalid full name",!1):(e.classList.contains("error")&&e.classList.remove("error"),t[n].classList.contains("error")&&t[n].classList.remove("error"),""!==o[n].innerHTML&&(o[n].innerHTML=""),!0):(e.classList.add("error"),t[n].classList.add("error"),o[n].innerHTML="Invalid email",!1)}(e,n))})),s.filter((function(e){return!!e})).length===r.length){var i={};r.forEach((function(e){return i[e.name]=e.value})),e(i)}})),{resetForm:function(){r.forEach((function(e,n){e.value="",e.classList.contains("error")&&e.classList.remove("error"),t[n].classList.contains("error")&&t[n].classList.remove("error"),""!==o[n].innerHTML&&(o[n].innerHTML="")}))},disableForm:function(){r.forEach((function(e){e.disabled=!0,s.disabled=!0,s.innerHTML="Sending..."}))},enableForm:function(){r.forEach((function(e){e.disabled=!1,s.disabled=!1,s.innerHTML=i}))}}},n=function(e,n){var r=document.querySelector("body"),t=document.getElementById(e),o=t.querySelector(".modal-container"),s=t.querySelector(".modal-close-btn"),i=function(){r.classList.remove("fixed"),t.classList.add("hidden")},c=function(){i(),n()};return t.addEventListener("click",c),o.addEventListener("click",(function(e){e.stopPropagation()})),s.addEventListener("click",c),{openModal:function(){r.classList.add("fixed"),t.classList.remove("hidden")},closeModal:i}};document.addEventListener("DOMContentLoaded",(function(){var r;r=document.querySelector(".header"),window.addEventListener("scroll",(function(){window.scrollY>r.getBoundingClientRect().height?r.classList.add("sticky"):r.classList.remove("sticky")}));var t=document.querySelector(".feedback-btn"),o=document.getElementById("result-modal"),s=o.querySelector(".text"),i=o.querySelector(".modal-close-btn"),c=e((function(e){l(),fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:"New post",body:"".concat(e.email," ").concat(e.name," ").concat(e.message),userId:1})}).then((function(e){return e.json()})).then((function(e){f(),a(),d(),e.id?(s.innerHTML="Your message successfully sent!",v()):(s.innerHTML="Form sent unsuccessful",v())}))})),a=c.resetForm,l=c.disableForm,d=c.enableForm,u=n("feedback-modal",a),m=u.openModal,f=u.closeModal,L=n("result-modal",(function(){})),v=L.openModal,y=L.closeModal;t.addEventListener("click",m),i.addEventListener("click",(function(){y(),s.innerHTML=""}))}))})();